{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>All Students</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        background-color: #f8f9fa;
      }
      .student-card {
        border-radius: 15px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease-in-out;
      }
      .student-card:hover {
        transform: translateY(-4px);
      }
      .student-actions a {
        margin-right: 8px;
      }
    </style>
  </head>
  <body>
    <div class="container py-5">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 id="mytext" class="text-primary">ðŸŽ“ View Students</h2>
        <button id="mybutton" onclick="changeText()"
        class="btn btn-outline-primary">View</button>
        <a href="{% url 'student_create' %}" class="btn btn-outline-primary shadow-sm">
          + Add New Student
        </a>
      </div>

      {% if students %}
      <div   id="studentData" class="row g-4" >
        {% for student in students %}
        <div class="col-md-6 col-lg-4">
          <div class="bg-white p-4 student-card">
            <h5 class="text-dark mb-1">{{ student.name }}</h5>
            <p class="text-muted small mb-3">{{ student.email }}</p>
            <div class="student-actions">
              <a href="{% url 'student_detail' student.pk %}" class="btn btn-outline-info btn-sm">View</a>
              <a href="{% url 'student_update' student.pk %}" class="btn btn-outline-success btn-sm">Edit</a>
              <a href="{% url 'student_delete' student.pk %}" class="btn btn-outline-danger btn-sm">Delete</a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <div class="alert alert-warning text-center mt-5">
        No students found. Please add some using the button above.
      </div>
      {% endif %}
    </div>
    <script>
        let section = document.getElementById("studentData");
        section.style.display="none"
       function changeText(){
        let element = document.getElementById("mytext");
        let button = document.getElementById("mybutton");
        if(element.textContent==="ðŸŽ“ View Students") 
            {
            section.style.display="flex"
            element.textContent="ðŸŽ“ Showing Students";
            button.textContent="Hide";
        }else{
            element.textContent="ðŸŽ“ View Students";
            button.textContent="View";
            section.style.display="none"
        }
       }
    </script>
  </body>

</html>
